# Maintainer: Simon Wilper <sxw@chronowerks.de>
pkgname=xsimd
pkgver=11.0.0
pkgrel=1
pkgdesc="xtensor-stack tools library - Multi-dimensional arrays with broadcasting and lazy computing"
arch=('x86_64')
url="https://github.com/xtensor-stack/${pkgname}"
license=('BSD-3-Clause')
depends=()
makedepends=('gcc' 'cmake' 'gtest')
source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/${pkgver}.tar.gz")
#source=(git+https://github.com/xtensor-stack/$pkgname#tag=$pkgver)

build() {
  cmake -B "${pkgname}-${pkgver}/build" -S "${pkgname}-${pkgver}" \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_INSTALL_LIBDIR=lib \
    -DCMAKE_POLICY_VERSION_MINIMUM=3.5
  make -C "${pkgname}-${pkgver}/build"
}

package() {
  cd ${pkgname}-${pkgver}
  make -C build DESTDIR="${pkgdir}" install
}
sha256sums=('50c31c319c8b36c8946eb954c7cca2e2ece86bf8a66a7ebf321b24cd273e7c47')



#build() {
#  cmake -B build -S $pkgname \
#    -DCMAKE_INSTALL_PREFIX=/usr
#  cmake --build build
#}
#
#package() {
#  DESTDIR="$pkgdir" cmake --install build
#  install -Dm644 $pkgname/LICENSE -t "$pkgdir"/usr/share/licenses/$pkgname
#}
